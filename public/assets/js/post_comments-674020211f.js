var Post_Comments=function(){$(".new-comment-forms");let e=$(".delete-comment-button"),t=function(e){$(e).on("submit",(function(t){t.preventDefault(),$.ajax({type:"post",url:"/comments/create",data:$(e).serialize(),success:function(e){let t=n(e.data.comment);$(`#post-comments-${e.data.comment.post}`).prepend(t),o($(" .delete-comment-button",t)),new ToggleLike($(" .toggle-like-button",t)),new Noty({type:"success",text:"Commented on Post",timeout:3e3}).show()},error:function(e){console.log(e.responseText)}})}))},n=function(e){return $(`<li id="comment-${e._id}">\n        <p>\n                <small>\n                    <a class="delete-comment-button" href="/comments/destroy/${e._id}">X</a>\n                </small>\n            ${e.content}\n            <br>\n            <small>\n                ${e.user.name}\n            </small>\n            <small>\n                <a class="toggle-like-button" data-likes="0" href="/likes/toggle/?id=${e._id}&type=Comment">\n                    0 Likes\n                </a>\n            </small>\n        </p>\n    </li>`)},o=function(e){$(e).click((function(t){t.preventDefault(),$.ajax({type:"get",url:$(e).prop("href"),success:function(e){$(`#comment-${e.data.comment_id}`).remove(),new Noty({type:"success",text:"Comment Deleted",timeout:3e3}).show()},error:function(e){console.log(e.responseText)}})}))};return e.each((function(e,t){o(t)})),$(".new-comment-forms").each((function(e,n){t(n)})),{createComment:t}}();